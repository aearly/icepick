!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).icepick=e()}}(function(){return function e(r,n,t){function o(i,c){if(!n[i]){if(!r[i]){var f="function"==typeof require&&require;if(!c&&f)return f(i,!0);if(u)return u(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var a=n[i]={exports:{}};r[i][0].call(a.exports,function(e){var n=r[i][1][e];return o(n||e)},a,a.exports,e,r,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(e,r,n){"use strict";function t(e,r){return(r||[]).reduce(function(e,r){if(e)return e[r]},e)}function o(e,r){return Object.keys(r).reduce(function(e,n){return c.assoc(e,n,r[n])},e)}function u(e,r,n){return null==e||null==r?e:Object.keys(r).reduce(function(e,t){var o=r[t],s=e[t],a=n?n(s,o,t):o;return f(o)&&f(s)?a===s&&Object.isFrozen(a)&&Object.isFrozen(s)?e:Array.isArray(o)?c.assoc(e,t,a):i(e,t,u(s,a,n)):i(e,t,a)},e)}function i(e,r,n){return e[r]===n?e:c.assoc(e,r,n)}var c=n,f=function(e){return null!==e&&(Array.isArray(e)||s(e))},s=function(e){return"object"==typeof e&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype},a=function(e,r){var n,t;if(Array.isArray(e))for(n=e.length;n--;)r(n);else for(n=(t=Object.keys(e)).length;n--;)r(t[n])},l=function(e){for(var r,n={},t=Object.keys(e),o=t.length;o--;)n[r=t[o]]=e[r];return n},p=function(e){return Array.isArray(e)?e.slice():l(e)},v=function(e){return f(e)&&!Object.isFrozen(e)?d(e):e},y=function(e){return"object"==typeof e?Object.freeze(e):e},h=[],d=function(e){if(h.some(function(r){return r===e}))throw new Error("object has a reference cycle");return h.push(e),a(e,function(r){var n=e[r];f(n)&&d(n)}),h.pop(),Object.freeze(e),e};n.freeze=d,n.thaw=function e(r){if(!f(r)||!Object.isFrozen(r))return r;var n=Array.isArray(r)?new Array(r.length):{};return a(r,function(t){n[t]=e(r[t])}),n},n.assoc=function(e,r,n){if(e[r]===n)return y(e);var t=p(e);return t[r]=v(n),y(t)},n.set=n.assoc,n.dissoc=function(e,r){var n=p(e);return delete n[r],y(n)},n.unset=n.dissoc,n.assocIn=function e(r,n,t){var o=n[0];return 1===n.length?c.assoc(r,o,t):c.assoc(r,o,e(r[o]||{},n.slice(1),t))},n.setIn=n.assocIn,n.getIn=t,n.updateIn=function(e,r,n){var o=t(e,r);return c.assocIn(e,r,n(o))},["push","unshift","pop","shift","reverse","sort"].forEach(function(e){n[e]=function(r,n){var t=[].concat(r);return t[e](v(n)),y(t)},n[e].displayName="icepick."+e}),n.splice=function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];var t=[].concat(e),o=r.map(v);return t.splice.apply(t,o),y(t)},n.slice=function(e,r,n){var t=e.slice(r,n);return y(t)},["map","filter"].forEach(function(e){n[e]=function(r,n){var t=n[e](r);return y(t)},n[e].displayName="icepick."+e}),n.extend=n.assign=function(e){for(var r=[],n=arguments.length-1;n-- >0;)r[n]=arguments[n+1];var t=r.reduce(o,e);return y(t)},n.merge=u;var b={value:function(){return this.val},thru:function(e){return this.val=v(e(this.val)),this}};Object.keys(n).forEach(function(e){b[e]=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return r.unshift(this.val),this.val=n[e].apply(null,r),this}}),n.chain=function(e){var r=Object.create(b);return r.val=e,r}},{}]},{},[1])(1)});
